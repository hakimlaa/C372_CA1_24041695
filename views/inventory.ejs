<!-- Navbar -->
<nav style="background: #1e1e1e; padding: 15px; display: flex; justify-content: space-between; align-items: center;">
    <div style="color: white; font-size: 22px; font-weight: 600;">Supermarket App</div>

    <div>
        <a href="/addProduct" style="color: white; margin-right: 20px; text-decoration: none; font-size: 16px;">Add Product</a>
        <a href="/logout" style="color: white; text-decoration: none; font-size: 16px;">Logout</a>
    </div>
</nav>

<div style="max-width: 1200px; margin: 40px auto;">

    <p style="font-size: 16px; color: #444;">Welcome, <strong><%= user.name %></strong> (admin)</p>

    <h1 style="
        text-align: center;
        margin-bottom: 40px;
        font-size: 34px;
        font-weight: 700;
        color: #222;
    ">Products from Supermarket App Database</h1>

    <div style="
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0px 4px 15px rgba(0,0,0,0.1);
    ">

        <table style="width: 100%; border-collapse: collapse; font-size: 16px;">
            <thead>
                <tr style="background: #f5f6fa; border-bottom: 2px solid #ddd;">
                    <th style="padding: 12px;">Product Name</th>
                    <th style="padding: 12px;">Product Image</th>
                    <th style="padding: 12px;">Quantity</th>
                    <th style="padding: 12px;">Price</th>
                    <th style="padding: 12px;">Edit</th>
                    <th style="padding: 12px;">Delete</th>
                </tr>
            </thead>

            <tbody>
                <% products.forEach(p => { %>
                <tr style="border-bottom: 1px solid #eee; transition: background 0.2s;">
                    <td style="padding: 12px;">
                        <a href="/product/<%= p.id %>" style="color: #007BFF; font-weight: 500;">
                            <%= p.productName %>
                        </a>
                    </td>

                    <td style="padding: 12px; text-align: center;">
                        <img src="/images/<%= p.image %>"
                            style="width: 70px; height: 70px; object-fit: contain; border-radius: 8px;">
                    </td>

                    <td style="padding: 12px; text-align: center;"><%= p.quantity %></td>

                    <td style="padding: 12px;">$<%= p.price.toFixed(2) %></td>

                    <td style="padding: 12px;">
                        <a href="/updateProduct/<%= p.id %>"
                           style="
                               padding: 6px 14px;
                               background: #3498db;
                               color: white;
                               border-radius: 6px;
                               text-decoration: none;
                           ">Edit</a>
                    </td>

                    <td style="padding: 12px;">
                        <a href="/deleteProduct/<%= p.id %>"
                           style="
                               padding: 6px 14px;
                               background: #e74c3c;
                               color: white;
                               border-radius: 6px;
                               text-decoration: none;
                           "
                           onclick="return confirm('Are you sure you want to delete this product?')"
                        >Delete</a>
                    </td>
                </tr>
                <% }); %>
            </tbody>

        </table>
    </div>
</div>

<!-- Scroll-to-bottom floating PDF icon (optional) -->
<a href="/download-pdf"
   style="
       position: fixed;
       bottom: 25px;
       right: 25px;
       background: #ff4757;
       padding: 16px;
       border-radius: 50%;
       color: white;
       font-size: 20px;
       text-align: center;
       text-decoration: none;
       box-shadow: 0px 4px 10px rgba(0,0,0,0.2);
   ">
    ðŸ“„
</a>
